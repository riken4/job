{% extends 'base.html' %}
{% load static %}

{% block title %}Home - Miteri Mart{% endblock %}

{% block extra_css %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link href="{% static 'css/product_detail.css' %}" rel="stylesheet">
<style>
  
    .container {
    max-width: 900px;
    margin: 0 auto;
    background: #f8f9fa;
    border-radius: 8px;
    overflow: hidden;
    margin-top: 5px;
    gap: 30px;
    padding: 2rem;
    animation: fadeIn 0.3s ease-in;
  }

  /* Main product image */
  .product-image-main {
    width: 450px;
    /* smaller main image */
    max-height: 450px;
    object-fit: contain;

  }

  /* Container for zoom */
  .position-relative-main {
    position: relative;
    overflow: hidden;
    cursor: zoom-in;
    width: 100%;
    max-width: 400px;
    overflow: hidden;
    margin: auto;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;

  }

  /* Main product image */
  .product-image-main {
    width: 450px;
    /* smaller main image */
    max-height: 450px;
    object-fit: contain;

  }



  /* Image style */
  .zoom-image {
    width: 100%;
    height: auto;
    transition: transform 0.2s ease;
    transform-origin: center center;
  }



  /* rating */
  /* From Uiverse.io by andrew-demchenk0 */
  .rating:not(:checked)>input {
    position: absolute;
    appearance: none;
  }

  .rating:not(:checked)>label {
    float: right;
    cursor: pointer;
    font-size: 30px;
    color: #666;
  }

  .rating:not(:checked)>label:before {
    content: "★";
  }

  .rating>input:checked+label:hover,
  .rating>input:checked+label:hover~label,
  .rating>input:checked~label:hover,
  .rating>input:checked~label:hover~label,
  .rating>label:hover~input:checked~label {
    color: #e58e09;
  }

  .rating:not(:checked)>label:hover,
  .rating:not(:checked)>label:hover~label {
    color: #ff9e0b;
  }

  .rating>input:checked~label {
    color: #ffa723;
  }

  */

  /* Image style */
  .zoom-image {
    width: 100%;
    height: auto;
    transition: transform 0.2s ease;
    transform-origin: center center;
  }

  /* Thumbnails */
  .product-image-thumb {
    width: 60px;
    height: 60px;
    cursor: pointer;
    border: 2px solid rgb(194, 194, 194);
    border-radius: 5px;
    object-fit: cover;
    max-width: 100%;
    height: auto;
  }

  .product-image-thumb.selected {
    border-color: #dc3545;
    border: 2px solid #dc3545;
  }

  /* rating */
  /* From Uiverse.io by andrew-demchenk0 */
  .rating:not(:checked)>input {
    position: absolute;
    appearance: none;
  }

  .rating:not(:checked)>label {
    float: right;
    cursor: pointer;
    font-size: 30px;
    color: #666;
  }

  .rating:not(:checked)>label:before {
    content: "★";
  }

  .rating>input:checked+label:hover,
  .rating>input:checked+label:hover~label,
  .rating>input:checked~label:hover,
  .rating>input:checked~label:hover~label,
  .rating>label:hover~input:checked~label {
    color: #e58e09;
  }

  .rating:not(:checked)>label:hover,
  .rating:not(:checked)>label:hover~label {
    color: #ff9e0b;
  }

  .rating>input:checked~label {
    color: #ffa723;
  }

  */ .product-card {
    height: 100%;
    /* ensure all cards stretch equally */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .product-name {
    font-size: 16px;
    font-weight: bold;
    line-height: 20px;
    /* height of one line */
    display: -webkit-box;
    /* for WebKit multiline ellipsis */
    -webkit-line-clamp: 1;
    /* limit to 1 line */
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;

    /* Fallback for non-WebKit browsers */
    white-space: nowrap;
    /* prevents text wrapping to new line */
    word-break: break-word;
    /* breaks long words if needed */

    margin: 0 0 4px 0;
    padding: 0;
  }

  .price {
    text-align: left;
    color: #999;
    font-size: 19px;
    font-weight: 500;
    font-style: oblique;
    font-family: "Franklin Gothic Medium";
  }

  .best-price {
    font-size: 25px;
    font-weight: 700;
    color: #e74c3c;
    font-weight: bold;
  }

  .cart-btn,
  .wishlist-btn {
    /* Basic styling for both buttons */
    padding: 8px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
  }

  .cart-btn:hover,
  .wishlist-btn:hover {
    /* Common hover effect */
    opacity: 0.8;
  }

  /* Specific styling for the 'Add to Cart' button */
  button.cart-btn,
  .wishlist-btn {
    background-color: #3e3f29;
    /* A shade of green */
    color: white;
  }

  /* Basic styling for the notification container */
  #notification {
    /* Initially hidden */
    display: none;

    /* Positioning in the top-right corner */
    position: fixed;
    top: 70px;
    right: 20px;

    /* Styling for the notification box */
    background-color: orchid;
    opacity: 0.8;
    color: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    z-index: 1000;

    /* Add a fade-in animation */
    animation: fadeIn 0.5s ease-in-out;
  }

  /* Optional: Add a fade-in keyframe animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .product-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  .product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  }

  .product-card .card-body {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 1rem;
  }

  .discount-badge {
    position: absolute;
    top: 10px;
    left: 10px;
    background: #dc3545;
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: bold;
    z-index: 1;
  }

  .stock-status {
    font-size: 0.85rem;
    margin-bottom: 8px;
  }

  .stock-status.in-stock {
    color: #28a745;
  }

  .stock-status.out-of-stock {
    color: #dc3545;
  }

  .product-name {
    font-size: 14px;
    font-weight: bold;
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-bottom: 8px;
    flex-grow: 1;
  }


  .product-btn {
    background-color: #3e3f29;
    color: #fff;
    font-weight: 600;
    padding: 10px 20px;
    border-radius: 8px;
    border: 2px solid #3e3f29;
    text-decoration: none;
    display: inline-block;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.3s ease-in-out;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  /* ✅ Correct hover target */
  .product-btn:hover {
    background-color: orangered;
    border-color: orangered;
    color: #fff;
    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
    transform: translateY(-2px);
  }




  .tab-container {
    display: flex;
    gap: 30px;
    width: 700px;
  }

  .tab {
    flex: 1;
    padding: 16px 10px;
    background-color: #f5f5f5;

    border-width: 1px;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    color: #666;
    transition: all 0.3s ease;
    position: relative;
    border-radius: 5px;
  }

  .tab:hover {
    background-color: #8B4513;
    color: white;
  }

  .tab.active {
    background-color: #8B4513;
    color: white;
  }

  .tab-content {
    display: none;
    padding: 30px;
    animation: fadeIn 0.3s ease-in;
  }

  .tab-content.active {
    display: block;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Product Description Styles */
  .product-header {
    margin-bottom: 30px;
  }

  .product-title {
    font-size: 28px;
    font-weight: 700;
    color: #333;
    margin-bottom: 8px;
  }


  .product-details {
    line-height: 1.8;
    color: #555;
  }

  .product-details h3 {
    color: #333;
    font-weight: 700;
    margin-bottom: 15px;
    margin-top: 25px;
    font-size: 20px;
  }

  .product-details p {
    margin-bottom: 15px;
    padding: 8px 0;
  }

  .features-list {
    background: #f8f9fa;
    border-radius: 8px;
    margin: 20px 0;
  }

  .features-list ul {
    list-style: none;
    padding: 0;
  }

  .features-list li {
    padding: 8px 0;
    border-bottom: 1px solid #e9ecef;
    position: relative;
    padding-left: 25px;
  }

  .features-list li:before {
    content: "✓";
    position: absolute;
    left: 0;
    color: #28a745;
    font-weight: bold;
  }

  .features-list li:last-child {
    border-bottom: none;
  }

  /* Reviews Styles */
  .reviews-header {
    text-align: center;
    margin-bottom: 30px;
  }

  .rating-display {
    font-size: 48px;
    font-weight: bold;
    color: #333;
    margin-bottom: 10px;
  }

  .stars {
    display: inline-flex;
    gap: 5px;
    margin-bottom: 15px;
  }

  .star {
    font-size: 24px;
    color: #ddd;
  }

  .star.filled {
    color: #ffc107;
  }

  .rating-summary {
    background: #f8f9fa;
    padding: 25px;
    border-radius: 8px;
    margin-bottom: 25px;
  }

  .rating-breakdown {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .rating-row {
    display: flex;
    align-items: center;
    gap: 15px;
  }

  .rating-stars {
    display: flex;
    gap: 2px;
  }

  .rating-stars .star {
    font-size: 16px;
  }

  .rating-bar {
    flex: 1;
    height: 8px;
    background: #e9ecef;
    border-radius: 4px;
    overflow: hidden;
  }

  .rating-fill {
    height: 100%;
    background: #ffc107;
    width: 0%;
    border-radius: 4px;
  }

  .rating-percentage {
    min-width: 40px;
    font-size: 14px;
    color: #666;
  }

  .no-reviews {
    text-align: center;
    color: #666;
    font-style: italic;
    margin-top: 30px;
    padding: 40px 20px;
    background: #f8f9fa;
    border-radius: 8px;
  }

  .review-item {
    border-bottom: 1px solid #e9ecef;
    padding: 25px 0;
  }

  .review-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }

  .reviewer-name {
    font-weight: 600;
    color: #333;
  }

  .review-date {
    color: #666;
    font-size: 14px;
  }

  .review-text {
    color: #555;
    line-height: 1.6;
  }

  .recommendation {
    margin: 20px 0;
    padding: 20px;
    background: #e8f5e8;
    border-radius: 8px;
    border-left: 4px solid #28a745;
  }

  .recommendation-text {
    font-weight: 600;
    color: #155724;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .btn {
    background: #8B4513;
    color: white;
    padding: 12px 24px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
    font-weight: 500;
    margin-top: 20px;
    transition: background-color 0.3s ease;
  }

  .btn:hover {
    background: #6d3410;
  }

  @media (max-width: 768px) {
    .tab {
      padding: 12px 16px;
      font-size: 14px;
    }

    .tab-content {
      padding: 20px;
    }

    .product-title {
      font-size: 24px;
    }

    .rating-row {
      flex-direction: column;
      align-items: stretch;
      gap: 8px;
    }
  }

  /* Custom styles for the product options */
</style>
{% endblock %}
{% block content %}
<div class="container rounded">
  <div class="row">
    <!-- Left: Image Gallery -->
    <div class="col-md-6">
      <!-- Main Image -->
      <div class="position-relative-main">
        <img id="mainImage" src="{% static 'images/t-shirt1.jpg' %}" class="product-image-main mb-3" alt="Main Product"
          style="width:100%; height:auto; display:block;">
      </div>

      <!-- Thumbnails -->
      <div class="d-flex gap-2">
        <img src="{% static 'images/t-shirt1.jpg' %}" class="product-image-thumb" alt="Thumb2">
        <img src="{% static 'images/t-shirt2.jpg' %}" class="product-image-thumb selected" alt="Thumb1">
        <img src="{% static 'images/t-shirt3.jpg' %}" class="product-image-thumb selected" alt="Thumb1">
        <img src="{% static 'images/t-shirts.jpg' %}" class="product-image-thumb" alt="Thumb3">
      </div>
    </div>

    <!-- Right: Product Info -->
    <div class="col-md-6">
      <h3>T-shirt</h3>
      <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
        industry's standard dummy text ever since the 1500s...</p>

      <ul>
        <li>Lorem Ipsum is simply dummy</li>
        <li>Lorem Ipsum is simply dummy</li>
        <li>Lorem Ipsum is simply dummy</li>
      </ul>

      <div class="price mb-3">
        <span class=" text-muted text-decoration-line-through me-2">Rs 1500</span>
        <span class="best-price text-danger fs-4">Rs 1200</span>
      </div>

      <!-- select color -->
      <div class="my-4">
        <h5 class="mb-3">Color Family: <span id="selectedColorName">Green</span></h5>
        <div class="row g-2">
          <div class="col-3 col-md-2">
            <img src="{% static 'images/t-shirt1.jpg' %}" data-src="{% static 'images/t-shirt1.jpg' %}"
              data-color="Green" class="product-image-thumb" alt="Product Thumbnail 1">
          </div>
          <div class="col-3 col-md-2">
            <img src="{% static 'images/t-shirt2.jpg' %}" data-src="{% static 'images/t-shirt2.jpg' %}"
              data-color="Purple" class="product-image-thumb" alt="Product Thumbnail 2">
          </div>
          <div class="col-3 col-md-2">
            <img src="{% static 'images/t-shirt3.jpg' %}" data-src="{% static 'images/t-shirt3.jpg' %}"
              data-color="Black" class="product-image-thumb" alt="Product Thumbnail 3">
          </div>
        </div>
      </div>
      <!-- size -->
      <div class="my-4">
        <h5 class="mb-3">Size: <span id="selectedSizeName">M</span></h5>
        <div class="d-flex gap-2">
          <button class="btn btn-outline-secondary size-option active" data-size="M">M</button>
          <button class="btn btn-outline-secondary size-option" data-size="L">L</button>
          <button class="btn btn-outline-secondary size-option" data-size="XL">XL</button>
        </div>
      </div>


      <!-- Quantity + Buttons -->
      <div class="mb-3 d-flex align-items-center gap-2">
        <label for="qty" class="mb-0">Quantity:</label>
        <input type="number" id="qty" class="form-control" value="1" min="1" max="10" style="width:80px;">
      </div>

      <div class="mb-3 d-flex gap-2">
        <button class="cart-btn flex-fill" id="addnotificationbtn">ADD TO CART &nbsp; <i class="bi bi-cart3"></i>
        </button>
        <div id="notification">
          <i class="bi bi-check"></i>
          notification
        </div>

        <button class="Wishlist-btn flex-fill">Wishlist &nbsp; <i class="bi bi-suit-heart-fill"></i></button>
      </div>
    </div>
  </div>
</div>

<!-- detatil Section -->
<div class="container">
  <div class="tab-container">
    <button class="tab active" onclick="showTab('product-description')">
      Product Description
    </button>
    <button class="tab" onclick="showTab('customer-reviews')">
      Customer Reviews
    </button>
  </div>

  <div id="product-description" class="tab-content active">
    <div class="product-header">
      <h1 class="product-title">T-shirt</h1>
    </div>
    <div class="product-details">
      <p>A stylish and comfortable unisex cotton T-shirt perfect for everyday wear. Designed with a classic fit, it offers a soft, breathable feel and pairs effortlessly with jeans, shorts, or casual outfits.
      </p>
      <hr>
      <h3>Key Features</h3>
      <div class="features-list">
        <ul>

          <li><strong>100% Premium Cotton:</strong> Soft, lightweight, and breathable.</li>

          <li><strong> Durable Stitching:</strong>Long-lasting quality with reinforced seams.
          </li>
          <li><strong>Comfort Fit:</strong> Classic round neck and short sleeves for all-day comfort.</li>
                    <li><strong>Versatile Style:</strong> Ideal for casual, office-casual, or weekend wear.</li>

        </ul>
      </div>
      <hr>
      <h3>Product Specifications</h3>
      <p><strong>material:</strong>100% Combed Cottern<br>
        <strong>Fit Type:</strong>Regular/ Classic Fit<br>
        <strong>Sleeve:</strong> Short sleeve<br>
        <strong>Care:</strong>Machine whash cold, tumble dry low<br>
      </p>

    </div>
  </div>

  <div id="customer-reviews" class="tab-content">
    <!-- <div class="container py-5"> -->
    <div class="row">
      <!-- Left: Reviews -->
      <div class="col-md-6">
        <h3>Customer Reviews</h3>
        <div class="border p-3 mb-3 rounded">
          <strong>Ramesh</strong> &nbsp;<i class="bi bi-star-fill text-warning"></i>
          <i class="bi bi-star-fill text-warning"></i>
          <i class="bi bi-star-fill text-warning"></i>
          <i class="bi bi-star-fill text-warning"></i>
          <p>Great product, works perfectly. Worth the price!</p>
        </div>
        <div class="border p-3 mb-3 rounded">
          <strong>Sita</strong> &nbsp;<i class="bi bi-star-fill text-warning"></i>
          <i class="bi bi-star-fill text-warning"></i>
          <i class="bi bi-star-fill text-warning"></i>

          <p>Excellent quality, fast delivery. Highly recommend.</p>
        </div>
        <div class="border p-3 mb-3 rounded">
          <strong>Bikash</strong> &nbsp;<i class="bi bi-star-fill text-warning"></i>
          <i class="bi bi-star-fill text-warning"></i>
          <i class="bi bi-star-fill text-warning"></i>
          <p>It’s okay, but could be improved in build quality.</p>
        </div>
      </div>

      <!-- Right: Review Form -->
      <div class="col-md-6 mb-3">
        <h3 class="mb-2">Write a Review</h3>
        <form action="#" method="post">
          {% csrf_token %}
          <!-- Rating -->
          <div class="rating mb-3">
            <input value="5" name="rate" id="star5" type="radio">
            <label for="star5"></label>
            <input value="4" name="rate" id="star4" type="radio">
            <label for="star4"></label>
            <input value="3" name="rate" id="star3" type="radio" checked>
            <label for="star3"></label>
            <input value="2" name="rate" id="star2" type="radio">
            <label for="star2"></label>
            <input value="1" name="rate" id="star1" type="radio">
            <label for="star1"></label>
          </div>

          <!-- Description -->
          <div class="mb-3">
            <label for="description" class="form-label">Your Review:</label>
            <textarea class="form-control" id="description" name="description" rows="4" required></textarea>
          </div>

          <!-- Submit -->
          <button type="submit" class="btn btn-danger">Submit Review</button>
        </form>
      </div>
      <!-- </div> -->
    </div>

  </div>
</div>

<!-- Featured Products -->
<section class="py-2">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="mb-0 fw-bold">Featured Products</h2>
      <a href="{% url 'store:products' %}" class="product-btn btn-outline-primary btn-sm">View All Products</a>

    </div>

    <!-- Product Grid -->
    <div id="product-grid" class="row g-3">
      <!-- Product 1 - Apple (Fixed data attributes) -->
      <div class="col-6 col-sm-6 col-md-4 col-lg-3 mb-4 product-item" data-category="groceries"
        data-subcategory="fruits" data-tag="organic" data-brand="local" data-name="apple">
        <a href="{% url 'store:product_detail' %}" class="text-decoration-none text-dark">
          <div class="card h-100 shadow-sm rounded product-card">
            <div class="card-body">
              <div class="text-center position-relative">
                <img src="{% static 'images/apple.jpg' %}" class="img-fluid mb-2" alt="Apple"
                  style="max-height:160px; object-fit:contain;">
                <div class="discount-badge">-20%</div>
              </div>
              <h6 class="product-name">Fresh Red Apple from Mustang</h6>
              <p class="stock-status out-of-stock">
                <i class="fas fa-times-circle"></i> Out of stock
              </p>
              <div class="price">
                <span class="old-price text-muted text-decoration-line-through me-2">Rs.
                  250</span>
                <span class="best-price fw-bold text-danger">Rs. 200</span>
              </div>
              <div class="d-flex align-items-center justify-content-between mt-2">
                <button type="button" class="btn btn-sm btn-success w-100"><i class="bi bi-cart3"></i> Buy Now</button>
              </div>
            </div>
          </div>
        </a>
      </div>

      <!-- Product 2 - Basmati Rice (Fixed data attributes) -->
      <div class="col-6 col-sm-6 col-md-4 col-lg-3 mb-4 product-item" data-category="groceries" data-subcategory="dairy"
        data-tag="organic" data-brand="local" data-name="basmati rice">
        <a href="" class="text-decoration-none text-dark">
          <div class="card h-100 shadow-sm rounded product-card">
            <div class="card-body">
              <div class="text-center position-relative">
                <img src="{% static 'images/basmati_rice.jpg' %}" class="img-fluid mb-2" alt="basmati rice"
                  style="max-height:160px; object-fit:contain;">
                <div class="discount-badge">-15%</div>
              </div>
              <h6 class="product-name">Premium Basmati Rice</h6>
              <p class="stock-status in-stock">
                <i class="fas fa-check-circle"></i> In stock
              </p>
              <div class="price">
                <span class="old-price text-muted text-decoration-line-through me-2">Rs.
                  850</span>
                <span class="best-price fw-bold text-danger">Rs. 720</span>
              </div>
              <div class="d-flex align-items-center justify-content-between mt-2">
                <button type="button" class="btn btn-sm btn-success w-100"><i class="bi bi-cart3"></i> Buy Now</button>
              </div>
            </div>
          </div>
        </a>
      </div>

      <!-- Product 3 - Cooking Oil (Fixed data attributes) -->
      <div class="col-6 col-sm-6 col-md-4 col-lg-3 mb-4 product-item" data-category="groceries" data-subcategory=""
        data-tag="" data-brand="fortune" data-name="sunflower oil">
        <a href="" class="text-decoration-none text-dark">
          <div class="card h-100 shadow-sm rounded product-card">
            <div class="card-body">
              <div class="text-center position-relative">
                <img src="{% static 'images/Sunflower_oil.jpg' %}" class="img-fluid mb-2" alt="sunflower oil"
                  style="max-height:160px; object-fit:contain;">
                <div class="discount-badge">-25%</div>
              </div>
              <h6 class="product-name">Fortune Sunflower Oil</h6>
              <p class="stock-status in-stock">
                <i class="fas fa-check-circle"></i> In stock
              </p>
              <div class="price">
                <span class="old-price text-muted text-decoration-line-through me-2">Rs.
                  320</span>
                <span class="best-price fw-bold text-danger">Rs. 240</span>
              </div>
              <div class="d-flex align-items-center justify-content-between mt-2">
                <button type="button" class="btn btn-sm btn-success w-100"><i class="bi bi-cart3"></i> Buy Now</button>
              </div>
            </div>
          </div>
        </a>
      </div>

      <!-- Product 4 - Spices (Fixed data attributes) -->
      <div class="col-6 col-sm-6 col-md-4 col-lg-3 mb-4 product-item" data-category="groceries" data-subcategory=""
        data-tag="organic" data-brand="local" data-name="garam masala">
        <a href="" class="text-decoration-none text-dark">
          <div class="card h-100 shadow-sm rounded product-card">
            <div class="card-body">
              <div class="text-center position-relative">
                <img src="{% static 'images/garam_masala.jpg' %}" class="img-fluid mb-2" alt="Garam Masala"
                  style="max-height:160px; object-fit:contain;">
                <div class="discount-badge">-10%</div>
              </div>
              <h6 class="product-name">Curry Master Garam Masala</h6>
              <p class="stock-status in-stock">
                <i class="fas fa-check-circle"></i> In stock
              </p>
              <div class="price">
                <span class="old-price text-muted text-decoration-line-through me-2">Rs.
                  150</span>
                <span class="best-price fw-bold text-danger">Rs. 135</span>
              </div>
              <div class="d-flex align-items-center justify-content-between mt-2">
                <button type="button" class="btn btn-sm btn-success w-100"><i class="bi bi-cart3"></i> Buy Now</button>
              </div>
            </div>
          </div>
        </a>
      </div>

      <!-- Product 5 - Lentils (Fixed data attributes) -->
      <div class="col-6 col-sm-6 col-md-4 col-lg-3 mb-4 product-item" data-category="groceries" data-subcategory="dairy"
        data-tag="" data-brand="amrit" data-name="masoor dal">
        <a href="" class="text-decoration-none text-dark">
          <div class="card h-100 shadow-sm rounded product-card">
            <div class="card-body">
              <div class="text-center position-relative">
                <img src="{% static 'images/musuri_dal.jpg' %}" class="img-fluid mb-2" alt="Masoor Dal"
                  style="max-height:160px; object-fit:contain;">
                <div class="discount-badge">-12%</div>
              </div>
              <h6 class="product-name">Amrit Masoor Dal</h6>
              <p class="stock-status in-stock">
                <i class="fas fa-check-circle"></i> In stock
              </p>
              <div class="price">
                <span class="old-price text-muted text-decoration-line-through me-2">Rs.
                  180</span>
                <span class="best-price fw-bold text-danger">Rs. 158</span>
              </div>
              <div class="d-flex align-items-center justify-content-between mt-2">
                <button type="button" class="btn btn-sm btn-success w-100"><i class="bi bi-cart3"></i> Buy Now</button>
              </div>
            </div>
          </div>
        </a>
      </div>

      <!-- Product 6 - Snacks (Fixed data attributes) -->
      <div class="col-6 col-sm-6 col-md-4 col-lg-3 mb-4 product-item" data-category="groceries"
        data-subcategory="snacks" data-tag="" data-brand="haldiram" data-name="mixture">
        <a href="" class="text-decoration-none text-dark">
          <div class="card h-100 shadow-sm rounded product-card">
            <div class="card-body">
              <div class="text-center position-relative">
                <img src="{% static 'images/Haldiram.jpg' %}" class="img-fluid mb-2" alt="Haldiram's Mixture"
                  style="max-height:160px; object-fit:contain;">
                <div class="discount-badge">-18%</div>
              </div>
              <h6 class="product-name">Haldiram's Mixture</h6>
              <p class="stock-status in-stock">
                <i class="fas fa-check-circle"></i> In stock
              </p>
              <div class="price">
                <span class="old-price text-muted text-decoration-line-through me-2">Rs.
                  120</span>
                <span class="best-price fw-bold text-danger">Rs. 98</span>
              </div>
              <div class="d-flex align-items-center justify-content-between mt-2">
                <button type="button" class="btn btn-sm btn-success w-100"><i class="bi bi-cart3"></i> Buy Now</button>
              </div>
            </div>
          </div>
        </a>
      </div>

      <!-- Product 7 - Regular Rice (Fixed data attributes) -->
      <div class="col-6 col-sm-6 col-md-4 col-lg-3 mb-4 product-item" data-category="groceries" data-subcategory="dairy"
        data-tag="organic" data-brand="local" data-name="white rice">
        <a href="" class="text-decoration-none text-dark">
          <div class="card h-100 shadow-sm rounded product-card">
            <div class="card-body">
              <div class="text-center position-relative">
                <img src="{% static 'images/white_rice.jpg' %}" class="img-fluid mb-2" alt="White Rice"
                  style="max-height:160px; object-fit:contain;">
                <div class="discount-badge">-8%</div>
              </div>
              <h6 class="product-name">Akshar White Rice</h6>
              <p class="stock-status in-stock">
                <i class="fas fa-check-circle"></i> In stock
              </p>
              <div class="price">
                <span class="old-price text-muted text-decoration-line-through me-2">Rs.
                  680</span>
                <span class="best-price fw-bold text-danger">Rs. 625</span>
              </div>
              <div class="d-flex align-items-center justify-content-between mt-2">
                <button type="button" class="btn btn-sm btn-success w-100"><i class="bi bi-cart3"></i> Buy Now</button>
              </div>
            </div>
          </div>
        </a>
      </div>
    </div>
  </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script>// Change main image when thumbnail clicked
  const mainImage = document.getElementById('mainImage');
  const thumbs = document.querySelectorAll('.product-image-thumb');

  thumbs.forEach(thumb => {
    thumb.addEventListener('click', function () {
      mainImage.src = this.src;       // change main image
      thumbs.forEach(t => t.classList.remove('selected'));
      this.classList.add('selected');  // highlight selected thumbnail
    });
  });
  // thumbnial zoom
  const container = document.querySelector('.position-relative-main');
  const image = document.getElementById('mainImage');

  container.addEventListener('mousemove', (e) => {
    const { left, top, width, height } = container.getBoundingClientRect();
    const x = ((e.pageX - left - window.scrollX) / width) * 100;
    const y = ((e.pageY - top - window.scrollY) / height) * 100;
    image.style.transformOrigin = `${x}% ${y}%`;
    image.style.transform = "scale(1.5)"; // zoom level
  });

  container.addEventListener('mouseleave', () => {
    image.style.transformOrigin = "center center";
    image.style.transform = "scale(1)";
  });

  //notification
  document.addEventListener('DOMContentLoaded', function () {
    const showBtn = document.getElementById('addnotificationbtn');
    const notification = document.getElementById('notification');
    let isNotificationActive = false; // A flag to track the notification's state

    showBtn.addEventListener('click', function () {
      // Check if a notification is already active
      if (isNotificationActive) {
        // If it is, show the "Already Added" message
        notification.innerText = "Already added!";

        // Flash the notification briefly
        notification.style.display = 'block';
        setTimeout(function () {
          notification.style.display = 'none';
        }, 1500); // Hide after 1.5 seconds

      } else {
        // If no notification is active, show the original message
        isNotificationActive = true;
        notification.innerText = "Product added to cart successfully.!";
        notification.style.display = 'block';

        // Set a timer to hide the notification and reset the flag
        setTimeout(function () {
          notification.style.display = 'none';
          isNotificationActive = false; // Reset the flag after the notification is gone
        }, 3000); // 3 seconds
      }
    });
  });

  function showTab(tabId) {
    // Hide all tab contents
    const tabContents = document.querySelectorAll('.tab-content');
    tabContents.forEach(content => {
      content.classList.remove('active');
    });

    // Remove active class from all tabs
    const tabs = document.querySelectorAll('.tab');
    tabs.forEach(tab => {
      tab.classList.remove('active');
    });

    // Show selected tab content
    document.getElementById(tabId).classList.add('active');

    // Add active class to clicked tab
    event.target.classList.add('active');
  }

  // Add some interactivity for demonstration
  document.addEventListener('DOMContentLoaded', function () {
    // Add hover effects to rating bars
    const ratingRows = document.querySelectorAll('.rating-row');
    ratingRows.forEach(row => {
      row.addEventListener('mouseenter', function () {
        this.style.backgroundColor = '#f0f0f0';
      });
      row.addEventListener('mouseleave', function () {
        this.style.backgroundColor = 'transparent';
      });
    });
  });
  document.addEventListener('DOMContentLoaded', () => {

    const colorOptions = document.querySelectorAll('.color-option');
    const sizeOptions = document.querySelectorAll('.size-option');
    const selectedColorName = document.getElementById('selectedColorName');
    const selectedSizeName = document.getElementById('selectedSizeName');
    const productImage = document.querySelector('.col-md-6 img');

    // Handle Color Selection
    colorOptions.forEach(option => {
      option.addEventListener('click', () => {
        // Remove 'active' class from all color options
        colorOptions.forEach(item => item.classList.remove('active'));

        // Add 'active' class to the clicked option
        option.classList.add('active');

        // Update the displayed color name
        const colorName = option.getAttribute('data-color');
        selectedColorName.textContent = colorName;

        // Update the main product image
        const newImageSrc = option.getAttribute('data-image');
        productImage.src = newImageSrc;
      });
    });

    // Handle Size Selection
    sizeOptions.forEach(option => {
      option.addEventListener('click', () => {
        // Remove 'active' class from all size options
        sizeOptions.forEach(item => item.classList.remove('active'));

        // Add 'active' class to the clicked option
        option.classList.add('active');

        // Update the displayed size name
        const sizeName = option.getAttribute('data-size');
        selectedSizeName.textContent = sizeName;
      });
    });

  });
  document.addEventListener('DOMContentLoaded', function () {
    // Correctly select all image thumbnails
    const thumbnails = document.querySelectorAll('.product-image-thumb');
    const selectedColorName = document.getElementById('selectedColorName');

    thumbnails.forEach(thumbnail => {
      thumbnail.addEventListener('click', function () {
        // Get the color name from the data-color attribute of the clicked image
        const colorName = this.getAttribute('data-color');

        // Update the text content of the span
        if (selectedColorName) {
          selectedColorName.textContent = colorName;
        }
      });
    });
  });</script>
{% endblock %}